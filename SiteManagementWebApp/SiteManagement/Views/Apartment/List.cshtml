<style>
    .ul {
        float: left;
        width: 40%;
        margin: 10px;
        position: absolute;
        top: 10%;
        left: 29%;
    }

    .btn1 {
        float: right;
        margin: 5px;
    }

</style>

<a style="float:right; margin:10px;" href="https://localhost:44309/apartment/createapartment/@ViewBag.BlockId"><button type="button" class="btn btn-success">Daire Ekle</button></a>

<div class="ul">
    <ul class="list-group ">
        @foreach (var item in ViewBag.ApartmentList)
        {
            <li class="list-group-item ">
                @item.Name

                <button id="Delete_@item.Id" type="button" class="btn btn-outline-danger btn1" onclick="deleteApartment(@item.Id)">Sil</button>
                <a href="https://localhost:44309/apartment/updateapartment/@ViewBag.BlockId/@item.Id"><button type="button" class="btn btn-outline-warning btn1">Düzenle</button></a>
                <a href="#"><button type="button" class="btn btn-outline-success btn1">Yaşayanlar</button></a>
                <a href="#"><button type="button" class="btn btn-outline-primary btn1">Daire Sorumlusu</button> </a>
            </li>
        }
    </ul>
</div>

<script type="text/javascript">
    function deleteApartment(apartmentId) {
        Swal.fire({
            title: 'Silmek istediğine emin misin?',
            text: " ",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Evet'
        }).then((result) => {
            if (result.isConfirmed) {

                $.ajax(
                    {
                        type: "post",
                        url: '@Url.Action("DeleteApartment", "Apartment")',
                        data: { apartmentId: apartmentId },
                        success: function (data) {

                            Swal.fire({
                                title: 'Silindi!',
                                text:'Daire silme işlemi başarı ile tamamlandı.',
                                showConfirmButton: false
                            }
                            )
                            setTimeout(function () {
                                window.location.reload(false)
                            }, 2000);

                        },
                        error: function () {
                            alert("Hata");
                        }
                    });
            }
        })
    }
</script>
